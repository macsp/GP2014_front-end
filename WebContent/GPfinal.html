<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
 
<title>YouTube2Lyrics - GP2014</title>

<!-- J-QUERY import -->
<!-- <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script> -->
<!-- <script src="http://code.jquery.com/jquery-1.10.2.js"></script> -->
<!-- <script src="http://code.jquery.com/ui/1.11.2/jquery-ui.js"></script> -->
<script type="text/javascript" src="library/jquery.min.js"></script>
<script src="library/jquery-1.10.2.js"></script>
<script src="library/jquery-ui.js"></script>



<!-- CSS -->
<link rel="stylesheet" type="text/css" href="CSS/youtubelogo.css">
<link rel="stylesheet" type="text/css" href="CSS/library.css">
<link rel="stylesheet" type="text/css" href="CSS/pageguide.css">
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans:400">
<!--  VER AQUI SE SE METE ANTES OU DEPOIS XD -->
<link rel="stylesheet" type="text/css" href="CSS/font-awesome-4.2.0/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="CSS/bootstrap-3.2.0-dist/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="CSS/font-awesome-4.2.0/css/font-awesome.min.css">
<link rel="stylesheet" href="library/jquery-ui.css">
<link rel="stylesheet" type="text/css" href="CSS/base.css">



</head>
<body onload="setArousal(); setValence();">
	<!-- BANNER TOP -->
	<header id="top_banner_div">
		<div id="logo_div">
			<div class="logo">
				<span id="YouTube">YouTube</span><span id="Lyrics">2Lyrics</span>
			</div>
		</div>

		<nav id="top_buttons_div">
			<!-- FEEDBACK FOR PROCESSING VIDEOS -->
			<button id="feedback_button" data-toggle="modal" data-target=".bs-example-modal-feedback" onclick="pageFeed=false; feedbackSongs();">
				<i class="fa fa-cog"></i>
			</button>
			<div class="modal fade bs-example-modal-feedback" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  				<div class="modal-dialog modal-lg">
    				<div class="modal-content">
      					<h1><i class="fa fa-cog" id="feedbackIcon"></i> FEEDBACK</h1>
      					<br> 
      					<nav>
							<ul class="pager">
								<li onclick="clickPageFeed('back');" id="backButtonFeed" style="display:none" class="previous"><a ><span aria-hidden="true">&larr;</span> Older</a></li>
								<li onclick="clickPageFeed('next');" id="nextButtonFeed" style="display:none" class="next"><a >Newer <span aria-hidden="true">&rarr;</span></a></li>
							</ul>
						</nav>
						<br>
      					<!-- BOOTSTRAP ACCORDION WITH PROCESSING VIDEOS IN THE SYSTEM -->
      					<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">      					
  							
  							<!-- THIS IS WHERE EACH FEEDBACK APPEARS -->
  							
						</div>
    				</div>
  				</div>
			</div>
			<!-- http://linkedin.github.io/hopscotch/ -->
			<!-- TAKE A TOUR -->
			<button id="tour_button">
				<i class="fa fa-question-circle"></i>
			</button>			
		</nav>
	</header>

	<!-- MIDLE CONTAINER -->
	<div id="main_content_div">

		<div class="content">
			<!-- BOOTSTRAP ACCORDION THAT CONTAINS THE LIBRARY (COLAPSE). BELOW, THE 3 WINDOWS -->
			<div class="panel-group" id="accordion">
				<div class="panel panel-default">
					<div class="panel-heading">
						<div class="panel-title">
							<a data-toggle="collapse" data-parent="#accordion" href="#collapseLibrary" id="library_button" onclick="updateBarsPos(1);">
								<button style="float: right;">
									<span class="fa fa-list-alt"></span> Library
								</button>
							</a>
						</div>
						<div class="imports_div">
							<!-- IMPORT LINKS -->
							<!-- BUTTON -->
							<button id="importLink" type="button" data-toggle="modal"
								data-target=".bs-example-modal-links" style="float: right;">
								<span class="fa fa-link"></span> Import Links
							</button>
							<!-- WINDOW TO INSERT LINKS -->
							<div id="ModalInputLink" class="modal fade bs-example-modal-links"  tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
								<div class="modal-dialog modal-lg">
									<div class="modal-content import-things">
										<h1 class="import_file_h1">IMPORT LINKS</h1>
										<div class="import_url_div">
											<input type="url" class="form-control link_bar_input" placeholder="URL input" id="url_input_id">
											<br /><br />
											<input type="button" class="btn btn-success" value="Submit" onclick="importLinksByUrl();">
											<br /><br />
										</div>
									</div>
								</div>
							</div>
							<!-- IMPORT FILE -->
							<!-- BUTTON -->
							<button id="importFile" type="button" data-toggle="modal" data-target=".bs-example-modal-file" style="float: right;">
								<span class="fa fa-file-text-o"></span> Import File
							</button>
							<!-- WINDOW TO INSERT FILE -->
							<div id="ModalInputLinkFile" class="modal fade bs-example-modal-file" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
								<div class="modal-dialog modal-lg">
									<div class="modal-content import-things">
										<h1 class="import_file_h1">IMPORT FILE</h1>

										<div class="import_url_div">
											<input type="file" name="txt" accept="text/*" class="btn btn-primary search_file_button" id="file-input">
											<br /><br />

											<input type="button" class="btn btn-success" onclick="importFile();" value="Submit">
											<br /><br />
											<small>You must upload a .txt file with the links separated by new lines</small>
										</div>										
									</div>
								</div>
							</div>
						</div>
					</div>
					
					<!-- LIBRARY -->
					<div id="collapseLibrary" class="panel-collapse collapse">
						<div class="panel-body">
							<!-- PESQUISA -->
							<div class="search_box_div">
								<div id="text_search_div">
									<div class="navbar-form navbar-left" role="search">
        								<div class="form-group">
          									<input id="textSearchInput" type="text" class="form-control" placeholder="Search music or artist...">
        								</div>
        								<input type="button" class="btn btn-default fa fa-search" value="Search" onclick="textualSearch();">
        								<i id="xesquerdo" style="padding-left:5px;display:none;" class="fa fa-close" onclick="closeSearch();"></i>
								    </div>
								</div>
								<div id="emotion_search_div">
									<label for="emotionChosen"> Emotion</label>
									<select name="emotionChosen" id="emotionChosen" >
  										<option class ="all" value="all">All emotions</option>
  										<option class ="hap" value="hap"> Happiness</option>
  										<option class ="anx" value="anx">Anxiety</option>
  										<option class ="mel" value="mel">Melancholy</option>
  										<option class ="con" value="con">Contentment</option>
									</select>
								
								<!-- BUTTON TO SEARCH FOR AROUSAL AND VALENCE -->
								<button id="search_button" type="button" data-toggle="modal" data-target="#myModal" class="searchFilter" ></button>

								<!-- SEARCH FOR AROUSAL AND VALENCE -->
								<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  									<div class="modal-dialog">
    									<div class="modal-content">
      										<div class="modal-header">
        										<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        										<h4 class="modal-title" id="myModalLabel">Search by Arousal and Valence</h4>
      										</div>
      										<div class="modal-body">
        										<!-- SEARCH FOR AROUSAL -->
  												<p>
  													<label for="amount_arousal">Arousal (Y):</label>
  													<input type="text" id="amount_arousal" readonly style="border:0; color:#f6931f; font-weight:bold;">
												</p>
												<div id="slider-range-arousal" style="width: 80%; margin:auto;"></div>
												<br />
												<!-- SEARCH FOR VALENCE -->
												<p>
  													<label for="amount_valence">Valence (X):</label>
  													<input type="text" id="amount_valence" readonly style="border:0; color:#f6931f; font-weight:bold;">
												</p>
												<div id="slider-range-valence" style="width: 80%; margin:auto;"></div>
												<br />
      										</div>
      										<div class="modal-footer">
        										<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        										<input type="button" class="btn btn-primary" value="Search" onclick="searchByAV();">
      										</div>
    									</div>
  									</div>
								</div>
								<i id="xdireito" style="padding-left:5px;display:none;" class="fa fa-close" onclick="closeSearch();"></i>
								</div>
								
<!-- 								<div class="navbar-form navbar-left"> -->
									<nav>
										<ul class="pager">
											<li onclick="clickPage('back');" id="backButton" style="display:none" class="previous"><a ><span aria-hidden="true">&larr;</span> Older</a></li>
											<li onclick="clickPage('next');" id="nextButton" style="display:none" class="next"><a >Newer <span aria-hidden="true">&rarr;</span></a></li>
										</ul>
									</nav>
<!-- 								</div> -->
							</div>
							<!-- END OF SEARCH -->
							<br>
							<!-- MUSICS -->
							<div id="library_musics_div">
								<!-- WHERE THE MUSICS SHOULD APPEAR -->
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- 3 WINDOWS - VIDEO | PLOT | LYRIC -->
			<section id = "seccaodas3janelas">
				<!-- 3 WINDOWS ORGANIZATION AS HORIZONTAL LISTS -->
				<ul id="organized_3divs_ul">
					<!-- YOUTUBE VIDEO -->
					<li id = "now_playing_div" >
						<header>
							<span class="fa fa-play organized_3divs_ul_header_border_fas"></span>
							NOW PLAYING
						</header>
						<!-- PLAYER YOUTUBE E BARRA DE EMOCOES -->
						<div class="now_playing">
							<div class="n_p_video_container">
								<div class="n_p_video_play"></div>
								<div id="ytplayer"></div>
							</div>
							
							<!-- where should appears emotions bar -->
							
							<div class="n_p_video_progressbar">
								<div id="progressBar">
									<div id="scumDiv" style="visibility:hidden"></div> 
									<div id="newBar"></div>
								</div>
							</div>
					 		 
						</div>
					</li>
					<!-- RUSSELL PLOT -->
					<li id  = "russel_div">
						<header>
							<span class="fa fa-bar-chart organized_3divs_ul_header_border_fas"></span>
							RUSSELL PLOT
						</header>
						
						 <div id="chart_div" style="width:100%;height:85%">
						 	<div style="width:30%;height:30%;backgroundColor:red" ></div>
						 </div>
						 				
					</li>
					<!-- LYRICS -->
					<li id="lyrics_li">
						<header>
							<span class="fa fa-bars organized_3divs_ul_header_border_fas"></span>
							LYRIC <i id="pencillyric" style="padding-left:5px;display:none;" class="fa fa-pencil" onclick="editLyric();"></i>
						</header>
						<article id="liryc_div">
							
						</article>
					</li>
				</ul>
			</section>
		</div>
		
		<!-- Modal feedback-->
		<div class="modal fade" id="myModalInputFeedback" tabindex="-1" role="dialog" aria-labelledby="myModalLabelInputFeedback" aria-hidden="true">
  			<div class="modal-dialog">
    			<div class="modal-content">
      				<div class="modal-header">
        				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        				<h4 class="modal-title" id="myModalLabelInputFeedback">Input feedback</h4>
      				</div>
      				
      				
      				
      				<div class="modal-body" id="importLinkTextFeedback">
      				<!-- feedback goes here -->
      				</div>
      				<div class="modal-footer">
        				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			     	 </div>
    			</div>
  			</div>
		</div>
		
		<!-- Modal mudar lyric-->
		<div class="modal fade" id="myModalInputLyricEdit" tabindex="-1" role="dialog" aria-labelledby="myModalInputLyricEdit" aria-hidden="true">
  			<div class="modal-dialog">
    			<div class="modal-content">
      				<div class="modal-header">
        				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        				<h4 class="modal-title" id="myModalLabelInputFeedback">Edit lyric</h4>
      				</div>
      				<div class="modal-body" id="importLinkTextFeedback">
      				
      					<textarea id="textareaEdit" rows="10" cols="50"></textarea>
					
      				</div>
      				<div class="modal-footer">
        				<button type="button" class="btn btn-success" data-dismiss="modal" onclick="submitLyric();" disabled>Submit</button>
        				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			     	 </div>
    			</div>
  			</div>
		</div>
			
	</div>
	
	
	<!-- JavaScript and jquery functions -->
	<!-- FUNCIONALIDADES AVULSAS - VER NOME DOS FICHEIROS -->
	<script type="text/javascript" src="Javascript/YTBEmoBar.js"></script>
	<script type="text/javascript" src="Javascript/cookie.js"></script>
	<script type="text/javascript" src="Javascript/jquery.pageguide.js"></script>
	<script type="text/javascript" src="Javascript/rangeSlider.js"></script>
	<script type="text/javascript" src="Javascript/utilities.js"></script>
	<script type="text/javascript" src="Javascript/communication.js"></script>
	<!-- BOOTSTRAP -->
	<script type="text/javascript" src="Javascript/bootstrap-3.2.0-dist/js/bootstrap.min.js"></script>
	
	<script type="text/javascript" src="https://www.google.com/jsapi?autoload={'modules':[{'name':'visualization','version':'1','packages':['corechart']}]}"></script>
    	
	<script type="text/javascript">
		var pageSubject = null;
		var pageNumber = 1;
		var pageNumberFeed = 1;

		var pageAll = false;
		var pageText = null;
		var pageAV = new Array();
		var pageFeed = false;
		
		var checkVideoRep=0;

		$( document ).ready(function() {	
			//document.cookie = "tourVerify=; expires=Thu, 01 Jan 1970 00:00:00 UTC";//delete cookie
			checkCookie("tourVerify");
			initTour();
			getAllMusicsL();
		});
		
		$( window ).resize(function() {

			updateBarsPos(0);

		});

		// avoid ENTER to be pressed
		$(window).keydown(function(event){
		    if( (event.keyCode == 13)) {
		      event.preventDefault();
		      if ($('#textSearchInput').val().length>0)
		    	  textualSearch();
		      return false;
		    }
		  });
		
		var select = document.getElementById('emotionChosen');
		select.onchange = function () {
		    select.className = this.options[this.selectedIndex].className;
		    setValuesAV(); 
		    searchByAV();
		}
		  
	</script>

</body>
</html>
